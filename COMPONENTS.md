# Общие компоненты сайта

Этот документ описывает систему общих компонентов для сайта ClickUp.by, которая позволяет использовать единый хедер и футер на всех страницах.

## Структура файлов

```
├── components/
│   ├── header.html          # Общий хедер
│   ├── footer.html          # Общий футер
│   └── .htaccess           # Защита от прямого доступа
├── includes/
│   ├── header.php          # PHP-функция для включения хедера
│   ├── footer.php          # PHP-функция для включения футера
│   └── .htaccess           # Защита от прямого доступа
├── index-new.php           # Пример главной страницы
├── cases-new.php           # Пример страницы кейсов
├── case-template.php       # Шаблон страницы кейса
└── COMPONENTS.md           # Эта документация
```

## Как использовать

### 1. Создание новой страницы

Создайте новый PHP файл и добавьте в начало:

```php
<?php
require_once 'includes/header.php';
require_once 'includes/footer.php';

// Настройки страницы
$pageTitle = 'Заголовок страницы — ClickUp.by';
$pageDescription = 'Описание страницы для SEO';
$pageUrl = 'https://clickup.by/your-page/';

// Включаем хедер
includeHeader($pageTitle, $pageDescription, $pageUrl);
?>

<!-- Ваш контент здесь -->
<main id="main">
    <!-- Содержимое страницы -->
</main>

<?php
// Включаем футер
includeFooter();
?>
```

### 2. Параметры функции includeHeader()

Функция `includeHeader()` принимает три параметра:

- `$pageTitle` (string) - Заголовок страницы для тега `<title>`
- `$pageDescription` (string) - Описание страницы для мета-тега description
- `$pageUrl` (string) - URL страницы для canonical и Open Graph

Все параметры опциональны. Если не указаны, используются значения по умолчанию.

### 3. Примеры использования

#### Главная страница
```php
$pageTitle = 'ClickUp.by — Контекстная и таргетированная реклама под ключ';
$pageDescription = 'Агентство ClickUp.by: контекстная и таргетированная реклама под ключ. Стратегия, запуск, оптимизация и прозрачная отчётность.';
$pageUrl = 'https://clickup.by/';
```

#### Страница кейсов
```php
$pageTitle = 'Кейсы — ClickUp.by';
$pageDescription = 'Реальные кейсы по контекстной и таргетированной рекламе. Результаты наших клиентов с конкретными цифрами и ROI.';
$pageUrl = 'https://clickup.by/cases/';
```

#### Страница отдельного кейса
```php
$pageTitle = 'Школа плавания — Кейс ClickUp.by';
$pageDescription = 'Кейс по продвижению школы плавания в Минске. Результат: 47 новых учеников за 3 месяца с ROMI 156%.';
$pageUrl = 'https://clickup.by/cases/shkola-plavaniya/';
```

## Преимущества системы

### 1. Консистентность
- Единый хедер и футер на всех страницах
- Одинаковое поведение мобильного меню
- Единообразные стили и анимации

### 2. Удобство поддержки
- Изменения в хедере/футере применяются ко всем страницам
- Не нужно обновлять каждый файл отдельно
- Централизованное управление навигацией

### 3. SEO и производительность
- Автоматическое добавление мета-тегов
- Правильные canonical URL
- Open Graph разметка для каждой страницы

### 4. Безопасность
- Защита компонентов от прямого доступа
- Валидация входных данных
- Безопасный вывод HTML

## Миграция существующих страниц

### Шаг 1: Создайте новую версию страницы
Создайте новый PHP файл с использованием компонентов (например, `index-new.php`).

### Шаг 2: Протестируйте
Убедитесь, что новая версия работает корректно и все функции работают.

### Шаг 3: Замените старую версию
Переименуйте старый файл в `.backup` и новый файл в основное имя.

### Шаг 4: Обновите ссылки
Убедитесь, что все внутренние ссылки указывают на правильные файлы.

## Структурированные данные

Система поддерживает добавление структурированных данных (JSON-LD) для каждой страницы. Добавляйте их перед вызовом `includeFooter()`:

```php
<!-- Structured Data -->
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "headline": "Заголовок статьи",
    "description": "Описание статьи",
    "url": "https://clickup.by/your-page/"
}
</script>

<?php includeFooter(); ?>
```

## Поддержка и обновления

При необходимости обновления хедера или футера:

1. Отредактируйте файлы в папке `components/`
2. Изменения автоматически применятся ко всем страницам
3. Проверьте работу на всех устройствах

## Безопасность

- Папки `components/` и `includes/` защищены от прямого доступа
- Все пользовательские данные экранируются
- Используются безопасные методы включения файлов

## Совместимость

Система работает с:
- PHP 7.4+
- Apache с mod_rewrite
- Современными браузерами
- Мобильными устройствами
